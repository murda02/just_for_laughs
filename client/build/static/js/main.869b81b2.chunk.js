(this.webpackJsonpjust_for_laughs=this.webpackJsonpjust_for_laughs||[]).push([[0],{113:function(e,t,n){"use strict";n.r(t);var r,a,i,o,s,c,l=n(3),d=n.n(l),j=n(68),u=n.n(j),b=(n(85),n(22)),m=(n(86),n(76)),p=n(115),f=n(126),g=n(124),x=n(75),h=n(13),O=n(8),v=n(12),y=n.n(v),k=n(23),w=n(10),S=n(69),C=n.n(S),z=function(){var e=Object(k.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C.a.get("https://v2.jokeapi.dev/joke/".concat(t,"?blacklistFlags=nsfw,religious,racist,political,sexist,explicit")));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=n(118),T=n(27),_=n(125),I=Object(_.a)(r||(r=Object(T.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),L=Object(_.a)(a||(a=Object(T.a)(["\n  mutation addUser($username: String!, $email: String!, $password: String!) {\n    addUser(username: $username, email: $email, password: $password) {\n      token\n      user {\n        _id\n        username\n      }\n    }\n  }\n"]))),$=Object(_.a)(i||(i=Object(T.a)(["\n  mutation addJoke($jokeText: String!) {\n    addJoke(jokeText: $jokeText) {\n      _id\n      jokeText\n    }\n  }\n"]))),J=Object(_.a)(o||(o=Object(T.a)(["\nmutation removeJoke($jokeId: ID!) {\n  removeJoke(jokeId: $jokeId){\n    _id\n  }\n}\n"]))),D=n(70),E=n(71),P=n(51),F=new(function(){function e(){Object(D.a)(this,e)}return Object(E.a)(e,[{key:"getProfile",value:function(){return Object(P.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!(!e||this.isTokenExpired(e))}},{key:"isTokenExpired",value:function(e){return Object(P.a)(e).exp<Date.now()/1e3&&(localStorage.removeItem("id_token"),!0)}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.reload()}}]),e}()),R=n(2),B=function(){var e=Object(l.useState)("rgb(169, 207, 243)"),t=Object(w.a)(e,2),n=t[0],r=t[1],a=Object(l.useState)("rgb(169, 207, 243)"),i=Object(w.a)(a,2),o=i[0],s=i[1],c=Object(l.useState)(!1),d=Object(w.a)(c,2),j=d[0],u=d[1],b=Object(l.useState)({}),m=Object(w.a)(b,2),p=m[0],f=m[1],g=Object(l.useState)("Any"),x=Object(w.a)(g,2),h=x[0],O=x[1],v=Object(N.a)($),S=Object(w.a)(v,1)[0];Object(l.useEffect)((function(){z(h).then((function(e){f(e.data)}))}),[h]);var C=function(){var e=Object(k.a)(y.a.mark((function e(t){var n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",n=void 0===t.joke?t.setup+"\n\n"+t.delivery:t.joke,!F.loggedIn()){e.next=7;break}return e.next=5,S({variables:{jokeText:n}});case 5:e.next=8;break;case 7:alert("To save, please signup or login. Thanks!");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsxs)("div",{style:{marginTop:"2%",fontSize:"1.2rem",justifyContent:"center"},children:[Object(R.jsx)("style",{scoped:!0,children:"\n  @media (min-width: 375px) {\n    label {font-size: 1rem; padding-left: 14%}\n    button {margin-left: 14.5%}\n    #jokeDiv {margin: 8%; padding: 3%}\n  }\n  @media (min-width: 768px) {\n    label {font-size: 1.2rem; padding-left: 8.5%}\n    button {margin-left: 9.5%}\n    #jokeDiv {margin: 5%; padding: 2%}\n  }\n  @media (min-width: 1200px) {\n    label {font-size: 1.5rem; padding-left: 3%}\n    button {margin-left: 4%}\n    #jokeDiv {margin: 2%; padding: 1%}\n  }"}),Object(R.jsxs)("label",{style:{display:"flex",justifyContent:"left",color:"yellow"},children:["Joke Category:\xa0\xa0\xa0",Object(R.jsxs)("select",{id:"categoryList",onChange:function(e){O(e.target.value)},style:{fontSize:"1.1rem",display:"flex",backgroundColor:"rgb(169, 207, 243)",justifyContent:"center"},children:[Object(R.jsx)("option",{children:"Choose "}),Object(R.jsx)("option",{value:"Any",children:"Any"}),Object(R.jsx)("option",{value:"Misc",children:"Misc"}),Object(R.jsx)("option",{value:"Programming",children:"Programming"}),Object(R.jsx)("option",{value:"Pun",children:"Pun"}),Object(R.jsx)("option",{value:"Halloween",children:"Halloween"}),Object(R.jsx)("option",{value:"Christmas",children:"Christmas"})]})]}),Object(R.jsxs)("div",{id:"jokeDiv",style:{borderStyle:"ridge",borderColor:"yellow",display:"inline-flex",color:"yellow"},children:[p.joke,p.setup,Object(R.jsx)("br",{}),Object(R.jsx)("br",{}),p.delivery]}),Object(R.jsx)("br",{}),Object(R.jsx)("button",{onClick:function(){r("rgb(169, 207, 243)"===n?"yellow":"rgb(169, 207, 243)"),z(h).then((function(e){f(e.data)}))},style:{backgroundColor:n,fontSize:"1.1rem",borderRadius:"8px"},children:"New Joke!"}),Object(R.jsx)("button",{onClick:function(){s("rgb(169, 207, 243)"===o?"yellow":"rgb(169, 207, 243)"),C(p),j||u(!0)},style:{backgroundColor:o,fontSize:"1.1rem",borderRadius:"8px"},children:"Save Joke!"})]})},U=function(){return Object(R.jsx)("main",{children:Object(R.jsxs)("div",{className:"flex-row justify-center",children:[Object(R.jsx)("div",{className:"col-12 col-md-10 mb-3 p-3",children:Object(R.jsx)(B,{})}),Object(R.jsx)("div",{className:"col-12 col-md-8 mb-3"})]})})},H=n(33),q=function(){var e=Object(l.useState)({username:"",email:"",password:""}),t=Object(w.a)(e,2),n=t[0],r=t[1],a=Object(N.a)(L),i=Object(w.a)(a,2),o=i[0],s=i[1],c=s.error,d=s.data,j=function(e){var t=e.target,a=t.name,i=t.value;r(Object(b.a)(Object(b.a)({},n),{},Object(H.a)({},a,i)))},u=function(){var e=Object(k.a)(y.a.mark((function e(t){var r,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,o({variables:Object(b.a)({},n)});case 4:r=e.sent,a=r.data,F.login(a.addUser.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),m={fontSize:"1.1rem",display:"flex",justifyContent:"center",flexFlow:"row wrap",marginRight:"8px"};return Object(R.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(R.jsx)("div",{className:"col-12 col-lg-10",children:Object(R.jsxs)("div",{className:"card",children:[Object(R.jsx)("h4",{style:{fontSize:"1.8rem",display:"flex",justifyContent:"center",paddingBottom:"2%",color:"yellow"},children:"Sign Up"}),Object(R.jsxs)("div",{className:"card-body",style:{fontSize:"1.2rem",display:"flex",justifyContent:"center",paddingBottom:"2%",paddingRight:"2%"},children:[d?Object(R.jsxs)("p",{children:["Success! You may now head"," ",Object(R.jsx)(h.b,{to:"/",children:"back to the homepage."})]}):Object(R.jsxs)("form",{onSubmit:u,style:m,children:[Object(R.jsx)("input",{className:"form-input",placeholder:"Enter username",name:"username",type:"text",value:n.name,onChange:j,style:m}),Object(R.jsx)("input",{className:"form-input",placeholder:"Enter email",name:"email",type:"email",value:n.email,onChange:j,style:m}),Object(R.jsx)("input",{className:"form-input",placeholder:"Enter password",name:"password",type:"password",value:n.password,onChange:j,style:m}),Object(R.jsx)("button",{className:"btn btn-block btn-primary",type:"submit",style:{fontSize:"1.1rem",backgroundColor:"rgb(169, 207, 243)",borderRadius:"8px",cursor:"pointer"},children:"Submit"})]}),c&&Object(R.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:c.message})]})]})})})},A=function(e){var t=Object(l.useState)({email:"",password:""}),n=Object(w.a)(t,2),r=n[0],a=n[1],i=Object(N.a)(I),o=Object(w.a)(i,2),s=o[0],c=o[1],d=c.error,j=c.data,u=function(e){var t=e.target,n=t.name,i=t.value;a(Object(b.a)(Object(b.a)({},r),{},Object(H.a)({},n,i)))},m=function(){var e=Object(k.a)(y.a.mark((function e(t){var n,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,s({variables:Object(b.a)({},r)});case 4:n=e.sent,i=n.data,F.login(i.login.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:a({email:"",password:""});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),p={fontSize:"1.1rem",display:"inline-block",justifyContent:"center",margin:"8px",marginLeft:"1%"};return Object(R.jsx)("main",{className:"flex-row justify-center mb-4",children:Object(R.jsx)("div",{className:"col-12 col-lg-10",children:Object(R.jsxs)("div",{className:"card",children:[Object(R.jsx)("h4",{style:{fontSize:"1.8rem",display:"flex",justifyContent:"left",color:"yellow",marginLeft:"2%"},children:"Login"}),Object(R.jsxs)("div",{className:"card-body",style:{fontSize:"1.2rem",display:"flex",justifyContent:"left",paddingBottom:"2%",paddingRight:"2%"},children:[j?Object(R.jsxs)("p",{children:["Success! You may now head"," ",Object(R.jsx)(h.b,{to:"/",children:"back to the homepage."})]}):Object(R.jsxs)("form",{onSubmit:m,style:p,children:[Object(R.jsx)("input",{className:"form-input",placeholder:"Enter your email",name:"email",type:"email",value:r.email,onChange:u,style:p})," ",Object(R.jsxs)("div",{children:[Object(R.jsx)("input",{className:"form-input",placeholder:"Enter your password",name:"password",type:"password",value:r.password,onChange:u,style:p})," "]}),Object(R.jsx)("button",{className:"btn btn-block btn-primary",type:"submit",style:{fontSize:"1.1rem",backgroundColor:"rgb(169, 207, 243)",borderRadius:"8px",cursor:"pointer",marginTop:"3%"},children:"Submit"})]}),d&&Object(R.jsx)("div",{className:"my-3 p-3 bg-danger text-white",children:d.message})]})]})})})},M=n(123),Y=Object(_.a)(s||(s=Object(T.a)(["\n  query user($username: String!) {\n    user(username: $username) {\n      _id\n      username\n      email\n      jokes {\n        _id\n        jokeText\n      }\n    }\n  }\n"]))),G=Object(_.a)(c||(c=Object(T.a)(["\n  query me {\n    me {\n      username\n    }\n      jokes {\n        _id\n        jokeText\n      }\n    }\n"]))),K=function(){var e=Object(N.a)(J),t=Object(w.a)(e,1)[0],n=Object(l.useState)("rgb(169, 207, 243)"),r=Object(w.a)(n,2),a=r[0],i=r[1],o=Object(O.f)().username,s=Object(M.a)(o?Y:G,{variables:{username:o}}),c=s.loading,d=s.data,j=function(){var e=Object(k.a)(y.a.mark((function e(n){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({variables:{jokeId:n}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=(null===d||void 0===d?void 0:d.me)||(null===d||void 0===d?void 0:d.user)||{};if(F.loggedIn()&&F.getProfile().data.username===o)return Object(R.jsx)(O.a,{to:"/me"});if(c)return Object(R.jsx)("div",{children:"Loading..."});var b={color:"yellow",marginLeft:"1%"};if(!(null===u||void 0===u?void 0:u.username))return Object(R.jsx)("h4",{style:b,children:"You need to be logged in to see this. Use the navigation links above to sign up or log in!"});var m={color:"yellow",whiteSpace:"pre-wrap",borderStyle:"ridge",borderColor:"yellow",padding:"1%",display:"inline-flex"};return Object(R.jsx)("div",{children:Object(R.jsxs)("div",{className:"flex-row justify-center mb-3",children:[Object(R.jsx)("style",{scoped:!0,children:"@media (min-width: 375px) {\n    h2 {font-size: 1.3rem; padding-left: 13%}\n    h4 {font-size: 1.9rem; padding-left: 13%}\n    li {font-size: 1.1rem; margin: 6%}\n    #savedJokes {margin: 5%}\n  }\n  @media (min-width: 768px) {\n    h2 {font-size: 1.4rem; padding-left: 8.5%}\n    li {font-size: 1.2rem; margin: 3%}\n    #savedJokes {margin: 2.5%; font-size: 1.2rem}\n  }\n  @media (min-width: 1200px) {\n    h2 {font-size: 2.1rem; padding-left: 3%}\n    li {font-size: 1.3rem; margin: 1%}\n    #savedJokes {margin: 1%; font-size: 1.4rem}\n  }"}),Object(R.jsxs)("h2",{style:b,children:[u.username,", here are your jokes:",Object(R.jsx)("br",{})]}),Object(R.jsx)("div",{children:d.jokes.map((function(e){return Object(R.jsxs)("div",{id:"savedJokes",style:m,children:[e.jokeText,Object(R.jsx)("button",{onClick:function(){i("rgb(169, 207, 243)"===a?"yellow":"rgb(169, 207, 243)"),j(e._id),window.location.reload()},style:{backgroundColor:a,fontSize:"1.1rem",borderRadius:"8px",margin:"5px"},children:"Delete"})]},e._id)}))})]})})},Q=function(){var e={textDecoration:"none",color:"yellow"};return Object(R.jsx)("header",{children:Object(R.jsxs)("div",{children:[Object(R.jsx)("div",{children:Object(R.jsx)("h1",{style:{fontSize:"3rem",display:"flex",justifyContent:"left",color:"yellow",marginLeft:"2%"},children:"Just for Laughs"})}),Object(R.jsx)("style",{scoped:!0,children:"@media (min-width: 375px) {\n    #navLinks { margin-bottom: 8%; margin-left: 14.7%; font-size: 1.1rem}\n  }\n  @media (min-width: 768px) {\n    #navLinks { margin-bottom: 3%; margin-left: 7.7%; font-size: 1.2rem}\n  }\n  @media (min-width: 1200px) {\n    #navLinks { margin-bottom: 1%; margin-left: 3.4%; font-size: 1.3rem}\n  }"}),Object(R.jsx)("div",{id:"navLinks",style:{display:"flex",justifyContent:"left"},children:F.loggedIn()?Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)(h.b,{to:"/me",style:e,children:[F.getProfile().data.username,"'s profile\xa0|",Object(R.jsx)("br",{})]}),Object(R.jsx)(h.b,{to:"/",onClick:function(e){e.preventDefault(),F.logout()},style:e,children:"\xa0Logout\xa0|"}),Object(R.jsx)(h.b,{to:"/",style:e,children:"\xa0Home"})]}):Object(R.jsxs)(R.Fragment,{children:[Object(R.jsx)(h.b,{to:"/login",style:e,children:"Login\xa0|"}),Object(R.jsx)(h.b,{to:"/signup",style:e,children:"\xa0Signup\xa0|"}),Object(R.jsx)(h.b,{to:"/",style:e,children:"\xa0Home"})]})})]})})},V=Object(m.a)({uri:"/graphql"}),W=Object(x.a)((function(e,t){var n=t.headers,r=localStorage.getItem("id_token");return{headers:Object(b.a)(Object(b.a)({},n),{},{authorization:r?"Bearer ".concat(r):""})}})),X=new p.a({link:W.concat(V),cache:new f.a});var Z=function(){return Object(R.jsx)(g.a,{client:X,children:Object(R.jsx)(h.a,{children:Object(R.jsxs)("div",{className:"flex-column justify-flex-start min-100-vh",children:[Object(R.jsx)(Q,{}),Object(R.jsxs)("div",{className:"container",children:[Object(R.jsx)(O.b,{exact:!0,path:"/",children:Object(R.jsx)(U,{})}),Object(R.jsx)(O.b,{exact:!0,path:"/login",children:Object(R.jsx)(A,{})}),Object(R.jsx)(O.b,{exact:!0,path:"/signup",children:Object(R.jsx)(q,{})}),Object(R.jsx)(O.b,{exact:!0,path:"/me",children:Object(R.jsx)(K,{})})]})]})})})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,128)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),r(e),a(e),i(e),o(e)}))};u.a.render(Object(R.jsx)(d.a.StrictMode,{children:Object(R.jsx)(Z,{})}),document.getElementById("root")),ee()},85:function(e,t,n){},86:function(e,t,n){}},[[113,1,2]]]);
//# sourceMappingURL=main.869b81b2.chunk.js.map